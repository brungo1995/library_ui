// import React from "react";
// import _ from "lodash";
// import { IMould } from "../../../Domain/Entities/Mould";
// import { AlertContext } from "../../../context_providers/alert_context";
// import MouldRepository from "../../../Data/Repositories/MouldRepository";

// export default function MouldListVM({ history, location }) {
//   const [count, setCount] = React.useState(0);
//   const [isLoading, setLoading] = React.useState(false);
//   const [items, setItems] = React.useState<IMould[]>([] as IMould[]);
//   const [masterItems, setMasterItems] = React.useState<IMould[]>([] as IMould[]);
//   const [searchText, setSearchText] = React.useState("");
//   const Alert = React.useContext(AlertContext);

//   const mouldRepository = new MouldRepository();

//   async function loadMoulds() {
//     setLoading(true);
//     let { moulds, error } = await mouldRepository.loadMoulds();
//     setLoading(false);
//     if (error) {
//       Alert.error(error.message);
//       return;
//     }
//     setItems(moulds);
//     setMasterItems(moulds);
//     setCount(moulds.length);
//   }

//   function onSelect(mouldId: string): void {
//     history.push(`/mould/${mouldId}/info`);
//   }

//   function onSearch(value) {
//     setSearchText(value);
//     const _items = masterItems.filter(
//       (listItem: IMould) =>
//         listItem.name.toLowerCase().includes(value.toLowerCase()) ||
//         listItem.code.toLowerCase().includes(value.toLowerCase())
//     );
//     setItems(_items);
//     setCount(_items.length);
//   }

//   function onAdd() {
//     history.push("/mould/new");
//   }

//   return {
//     count,
//     isLoading,
//     items,
//     searchText,
//     loadMoulds,
//     onAdd,
//     onSearch,
//     onSelect,
//   };
// }
